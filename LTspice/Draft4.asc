Version 4
SHEET 1 1248 980
WIRE -32 -80 -96 -80
WIRE 96 -80 48 -80
WIRE 208 -80 96 -80
WIRE 368 -80 288 -80
WIRE 96 16 96 -80
WIRE 112 16 96 16
WIRE 480 16 480 0
WIRE 352 32 176 32
WIRE 448 32 352 32
WIRE 80 48 16 48
WIRE 112 48 80 48
WIRE 688 48 512 48
WIRE 800 48 752 48
WIRE 880 48 800 48
WIRE 976 48 880 48
WIRE 448 64 384 64
WIRE 16 80 16 48
WIRE 976 96 976 48
WIRE 480 112 480 80
WIRE 880 112 880 48
WIRE 80 176 80 48
WIRE 160 176 80 176
WIRE 352 176 352 32
WIRE 352 176 240 176
WIRE 384 176 384 64
WIRE 800 176 800 48
WIRE 800 176 384 176
WIRE 16 208 16 160
WIRE 880 208 880 176
WIRE 976 208 976 176
FLAG 368 -80 0
FLAG 880 208 0
FLAG 976 208 0
FLAG 144 64 -5V
FLAG 480 112 0
FLAG 144 0 5V
FLAG 480 0 5V
FLAG 16 208 0
FLAG -96 -80 18VAC
SYMBOL res 192 -64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rsense
SYMATTR Value 0.03
SYMBOL res -48 -64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rload
SYMATTR Value 100
SYMBOL res 144 192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 470000
SYMBOL res 32 176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 1000
SYMBOL diode 688 64 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value D1N4007
SYMBOL cap 864 112 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL Opamps\\opamp2 144 -32 R0
SYMATTR InstName U3
SYMATTR Value TLC2272
SYMBOL Opamps\\opamp2 480 -16 R0
SYMATTR InstName U4
SYMATTR Value TLC2272
SYMBOL res 960 80 R0
SYMATTR InstName R5
SYMATTR Value 1500000
TEXT -280 40 Left 2 !.inc diodes.lib
TEXT -280 136 Left 2 !.tran 0 1 0 0.05
TEXT -280 72 Left 2 !.inc zener.lib
TEXT -280 104 Left 2 !.inc TLC2272.lib
